!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return E})),n.d(t,"hydrate",(function(){return W})),n.d(t,"createElement",(function(){return m})),n.d(t,"h",(function(){return m})),n.d(t,"Fragment",(function(){return v})),n.d(t,"createRef",(function(){return b})),n.d(t,"isValidElement",(function(){return r})),n.d(t,"Component",(function(){return y})),n.d(t,"cloneElement",(function(){return R})),n.d(t,"createContext",(function(){return O})),n.d(t,"toChildArray",(function(){return C})),n.d(t,"_unmount",(function(){return P})),n.d(t,"options",(function(){return o}));var o,r,i,s,a,l,c,u,d={},p=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function _(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,t,n){var o,r=arguments,i={};for(o in t)"key"!==o&&"ref"!==o&&(i[o]=t[o]);if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(r[o]);if(null!=n&&(i.children=n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===i[o]&&(i[o]=e.defaultProps[o]);return g(e,i,t&&t.key,t&&t.ref,null)}function g(e,t,n,r,i){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return null==i&&(s.__v=s),o.vnode&&o.vnode(s),s}function b(){return{}}function v(e){return e.children}function y(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__?w(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?w(e):null}function k(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return k(e)}}function x(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!s++||l!==o.debounceRendering)&&((l=o.debounceRendering)||a)(M)}function M(){for(var e;s=i.length;)e=i.sort((function(e,t){return e.__v.__b-t.__v.__b})),i=[],e.some((function(e){var t,n,o,r,i,s,a;e.__d&&(s=(i=(t=e).__v).__e,(a=t.__P)&&(n=[],(o=_({},i)).__v=o,r=D(a,i,o,t.__n,void 0!==a.ownerSVGElement,null,n,null==s?w(i):s),T(n,i),r!=s&&k(i)))}))}function S(e,t,n,o,r,i,s,a,l){var c,u,f,_,m,g,b,v=n&&n.__k||p,y=v.length;if(a==d&&(a=null!=i?i[0]:y?w(n,0):null),c=0,t.__k=C(t.__k,(function(n){if(null!=n){if(n.__=t,n.__b=t.__b+1,null===(f=v[c])||f&&n.key==f.key&&n.type===f.type)v[c]=void 0;else for(u=0;u<y;u++){if((f=v[u])&&n.key==f.key&&n.type===f.type){v[u]=void 0;break}f=null}if(_=D(e,n,f=f||d,o,r,i,s,a,l),(u=n.ref)&&f.ref!=u&&(b||(b=[]),f.ref&&b.push(f.ref,null,n),b.push(u,n.__c||_,n)),null!=_){var p;if(null==g&&(g=_),void 0!==n.__d)p=n.__d,n.__d=void 0;else if(i==f||_!=a||null==_.parentNode){e:if(null==a||a.parentNode!==e)e.appendChild(_),p=null;else{for(m=a,u=0;(m=m.nextSibling)&&u<y;u+=2)if(m==_)break e;e.insertBefore(_,a),p=a}"option"==t.type&&(e.value="")}a=void 0!==p?p:_.nextSibling,"function"==typeof t.type&&(t.__d=a)}else a&&f.__e==a&&a.parentNode!=e&&(a=w(f))}return c++,n})),t.__e=g,null!=i&&"function"!=typeof t.type)for(c=i.length;c--;)null!=i[c]&&h(i[c]);for(c=y;c--;)null!=v[c]&&P(v[c],v[c]);if(b)for(c=0;c<b.length;c++)U(b[c],b[++c],b[++c])}function C(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var o=0;o<e.length;o++)C(e[o],t,n);else n.push(t?t("string"==typeof e||"number"==typeof e?g(null,e,null,null,e):null!=e.__e||null!=e.__c?g(e.type,e.props,e.key,null,e.__v):e):e);return n}function I(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===f.test(t)?n+"px":null==n?"":n}function A(e,t,n,o,r){var i,s,a,l,c;if(r?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(i=e.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof o&&(i.cssText="",o=null),o)for(l in o)n&&l in n||I(i,l,"");if(n)for(c in n)o&&n[c]===o[c]||I(i,c,n[c])}else"o"===t[0]&&"n"===t[1]?(s=t!==(t=t.replace(/Capture$/,"")),a=t.toLowerCase(),t=(a in e?a:t).slice(2),n?(o||e.addEventListener(t,N,s),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,N,s)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!r&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function N(e){this.l[e.type](o.event?o.event(e):e)}function D(e,t,n,r,i,s,a,l,c){var u,d,p,f,h,m,g,b,w,k,x=t.type;if(void 0!==t.constructor)return null;(u=o.__b)&&u(t);try{e:if("function"==typeof x){if(b=t.props,w=(u=x.contextType)&&r[u.__c],k=u?w?w.props.value:u.__:r,n.__c?g=(d=t.__c=n.__c).__=d.__E:("prototype"in x&&x.prototype.render?t.__c=d=new x(b,k):(t.__c=d=new y(b,k),d.constructor=x,d.render=j),w&&w.sub(d),d.props=b,d.state||(d.state={}),d.context=k,d.__n=r,p=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=x.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=_({},d.__s)),_(d.__s,x.getDerivedStateFromProps(b,d.__s))),f=d.props,h=d.state,p)null==x.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==x.getDerivedStateFromProps&&b!==f&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(b,k),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(b,d.__s,k)||t.__v===n.__v&&!d.__){for(d.props=b,d.state=d.__s,t.__v!==n.__v&&(d.__d=!1),d.__v=t,t.__e=n.__e,t.__k=n.__k,d.__h.length&&a.push(d),u=0;u<t.__k.length;u++)t.__k[u]&&(t.__k[u].__=t);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(b,d.__s,k),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(f,h,m)}))}d.context=k,d.props=b,d.state=d.__s,(u=o.__r)&&u(t),d.__d=!1,d.__v=t,d.__P=e,u=d.render(d.props,d.state,d.context),t.__k=null!=u&&u.type==v&&null==u.key?u.props.children:Array.isArray(u)?u:[u],null!=d.getChildContext&&(r=_(_({},r),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(m=d.getSnapshotBeforeUpdate(f,h)),S(e,t,n,r,i,s,a,l,c),d.base=t.__e,d.__h.length&&a.push(d),g&&(d.__E=d.__=null),d.__e=!1}else null==s&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=L(n.__e,t,n,r,i,s,a,c);(u=o.diffed)&&u(t)}catch(e){t.__v=null,o.__e(e,t,n)}return t.__e}function T(e,t){o.__c&&o.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){o.__e(e,t.__v)}}))}function L(e,t,n,o,r,i,s,a){var l,c,u,f,_,h=n.props,m=t.props;if(r="svg"===t.type||r,null!=i)for(l=0;l<i.length;l++)if(null!=(c=i[l])&&((null===t.type?3===c.nodeType:c.localName===t.type)||e==c)){e=c,i[l]=null;break}if(null==e){if(null===t.type)return document.createTextNode(m);e=r?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,m.is&&{is:m.is}),i=null,a=!1}if(null===t.type)h!==m&&e.data!=m&&(e.data=m);else{if(null!=i&&(i=p.slice.call(e.childNodes)),u=(h=n.props||d).dangerouslySetInnerHTML,f=m.dangerouslySetInnerHTML,!a){if(h===d)for(h={},_=0;_<e.attributes.length;_++)h[e.attributes[_].name]=e.attributes[_].value;(f||u)&&(f&&u&&f.__html==u.__html||(e.innerHTML=f&&f.__html||""))}(function(e,t,n,o,r){var i;for(i in n)"children"===i||"key"===i||i in t||A(e,i,null,n[i],o);for(i in t)r&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||A(e,i,t[i],n[i],o)})(e,m,h,r,a),f?t.__k=[]:(t.__k=t.props.children,S(e,t,n,o,"foreignObject"!==t.type&&r,i,s,d,a)),a||("value"in m&&void 0!==(l=m.value)&&l!==e.value&&A(e,"value",l,h.value,!1),"checked"in m&&void 0!==(l=m.checked)&&l!==e.checked&&A(e,"checked",l,h.checked,!1))}return e}function U(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){o.__e(e,n)}}function P(e,t,n){var r,i,s;if(o.unmount&&o.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||U(r,null,t)),n||"function"==typeof e.type||(n=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){o.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&P(r[s],t,n);null!=i&&h(i)}function j(e,t,n){return this.constructor(e,n)}function E(e,t,n){var r,i,s;o.__&&o.__(e,t),i=(r=n===c)?null:n&&n.__k||t.__k,e=m(v,null,[e]),s=[],D(t,(r?t:n||t).__k=e,i||d,d,void 0!==t.ownerSVGElement,n&&!r?[n]:i?null:p.slice.call(t.childNodes),s,n||d,r),T(s,e)}function W(e,t){E(e,t,c)}function R(e,t){var n,o;for(o in t=_(_({},e.props),t),arguments.length>2&&(t.children=p.slice.call(arguments,2)),n={},t)"key"!==o&&"ref"!==o&&(n[o]=t[o]);return g(e.type,n,t.key||e.key,t.ref||e.ref,null)}function O(e){var t={},n={__c:"__cC"+u++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var o,r=this;return this.getChildContext||(o=[],this.getChildContext=function(){return t[n.__c]=r,t},this.shouldComponentUpdate=function(e){r.props.value!==e.value&&o.some((function(t){t.context=e.value,x(t)}))},this.sub=function(e){o.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){o.splice(o.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Consumer.contextType=n,n.Provider.__=n,n}o={__e:function(e,t){for(var n,o;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(o=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(o=!0,n.componentDidCatch(e)),o)return x(n.__E=n)}catch(t){e=t}throw e}},r=function(e){return null!=e&&void 0===e.constructor},y.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=_({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&_(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),x(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),x(this))},y.prototype.render=v,i=[],s=0,a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=d,u=0},function(e,t,n){"use strict";function o(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}n.r(t),n.d(t,"disconnect",(function(){return c})),n.d(t,"hookup",(function(){return l})),n.d(t,"message",(function(){return a})),n.d(t,"reply",(function(){return u})),n.d(t,"replyAll",(function(){return d}));const r="0.0.9";class i{constructor(){this.worker,this.setupBroadcastWorker(),this.inboxes=[],this.messageQueue=[],this.state={allowMessaging:!1},window.addEventListener("unload",()=>{this.worker.postMessage({recipient:"broadcast-worker",data:{type:"unload"}})})}async setupBroadcastWorker(){let e,t=await fetch("/broadcaster-worker.min.js");if(t.ok){const n=await t.blob();e=URL.createObjectURL(n)}else if((t=await fetch(`https://cdn.jsdelivr.net/npm/wwibs@${r}/wwibs-worker.min.js`)).ok){const n=await t.blob();e=URL.createObjectURL(n)}else console.error(`Failed to fetch the Inbox Worker from the CDN and ${location.origin}.`);e&&(this.worker=new Worker(e),this.worker.onmessage=this.handleWorkerMessage.bind(this))}flushMessageQueue(){if(this.state.allowMessaging=!0,this.messageQueue.length)for(let e=0;e<this.messageQueue.length;e++)this.worker.postMessage(this.messageQueue[e]);this.messageQueue=[]}sendDataToInboxes(e,t){for(let n=0;n<e.length;n++)try{this.inboxes[e[n]].callback(t)}catch(t){this.disconnectInbox(this.inboxes[e[n]],e[n])}}handleWorkerMessage(e){var t;const n=e.data;"broadcaster"===(null===(t=n.recipient)||void 0===t?void 0:t.trim().toLowerCase())?this.inbox(n.data):this.sendDataToInboxes(n.inboxIndexes,n.data)}sendUserDeviceInformation(){var e,t;const n={senderID:null,recipient:"broadcast-worker",messageId:null,maxAttempts:1,data:{type:"init",memory:null!==(t=null===(e=window.navigator)||void 0===e?void 0:e.deviceMemory)&&void 0!==t?t:8,isSafari:navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0}};this.postMessageToWorker(n)}inbox(e){const{type:t}=e;switch(t){case"worker-ready":this.flushMessageQueue(),this.sendUserDeviceInformation();break;case"cleanup-complete":this.state.allowMessaging=!0,this.flushMessageQueue();break;case"cleanup":this.cleanup();break;case"ping":break;default:console.warn(`Unknown broadcaster message type: ${e.type}`)}}message(e,t,n=null,r=1){let i=r;isNaN(i)?i=1:i<1&&(i=1);const s={senderID:n,recipient:e,data:t,messageId:o(),maxAttempts:i};this.postMessageToWorker(s)}hookup(e,t){const n={callback:t,uid:o()},r=this.inboxes.length;this.inboxes.push(n);const i={senderID:n.uid,recipient:"broadcast-worker",messageId:null,maxAttempts:1,data:{type:"hookup",name:e,inboxAddress:r,uid:n.uid}};return this.postMessageToWorker(i),n.uid}disconnect(e){for(let t=0;t<this.inboxes.length;t++){const n=this.inboxes[t];if(n.uid===e){this.disconnectInbox(n,t);break}}}reply(e,t,n=null,r=1){let i=r;isNaN(i)?i=1:i<1&&(i=1);const s={replyID:e,senderID:n,data:t,messageId:o(),maxAttempts:i};this.postMessageToWorker(s)}replyAll(e,t,n=null,r=1){let i=r;isNaN(i)?i=1:i<1&&(i=1);const s={replyID:e,senderID:n,data:t,messageId:o(),maxAttempts:i,replyAll:!0};this.postMessageToWorker(s)}disconnectInbox(e,t){e.disconnected=!0,e.callback=()=>{};const n={senderID:null,recipient:"broadcast-worker",messageId:null,maxAttempts:1,data:{type:"disconnect",inboxAddress:t}};this.postMessageToWorker(n)}postMessageToWorker(e){this.state.allowMessaging?this.worker.postMessage(e):this.messageQueue.push(e)}cleanup(){this.state.allowMessaging=!1;const e=[],t=[];for(let n=0;n<this.inboxes.length;n++){const o=this.inboxes[n];if(!(null==o?void 0:o.disconnected)){const r={oldAddressIndex:n,newAddressIndex:t.length};t.push(o),e.push(r)}}this.inboxes=t;const n={senderID:null,recipient:"broadcast-worker",messageId:null,maxAttempts:1,data:{type:"update-addresses",addresses:e}};this.worker.postMessage(n)}}let s=document.head.querySelector("script#broadcaster")||null;s||((s=document.createElement("script")).id="broadcaster",s.innerHTML="window.globalManager = null;window.globalMessage = null;window.globalHookup = null;window.globalDisconnect = null;window.globalReply = null;window.globalReplyAll = null;",document.head.appendChild(s),globalManager=new i),globalMessage=globalManager.message.bind(globalManager);const a=globalMessage;globalHookup=globalManager.hookup.bind(globalManager);const l=globalHookup;globalDisconnect=globalManager.disconnect.bind(globalManager);const c=globalDisconnect;globalReply=globalManager.reply.bind(globalManager);const u=globalReply;globalReplyAll=globalManager.replyAll.bind(globalManager);const d=globalReplyAll},function(e,t,n){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function a(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},o=[],r=0;r<e.length;r++){var i=e[r],l=t.base?i[0]+t.base:i[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=a(u),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(s[d].references++,s[d].updater(p)):s.push({identifier:u,updater:m(p,t),references:1}),o.push(u)}return o}function c(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var i=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function f(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var _=null,h=0;function m(e,t){var n,o,r;if(t.singleton){var i=h++;n=_||(_=c(t)),o=p.bind(null,n,i,!1),r=p.bind(null,n,i,!0)}else n=c(t),o=f.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=a(n[o]);s[r].references--}for(var i=l(e,t),c=0;c<n.length;c++){var u=a(n[c]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}n=i}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(s=o,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([r]).join("\n")}var s,a,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);o&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),r=n(1);n(8);class i extends o.Component{constructor(){super(),this.openDrawer=()=>{this.setState({open:!0})},this.closeDrawer=()=>{this.setState({open:!1})},this.pingPlayer=e=>{const t=e.currentTarget;r.message("server",{type:"combat-order-update",uid:t.dataset.uid})},this.state={open:!1,order:[],initiationIndex:0},this.inboxUid=r.hookup("initiation-order",this.inbox.bind(this)),this.isGM=!!document.body.querySelector("campaign-component")}inbox(e){switch(e.type){case"update-initiation-index":this.setState({initiationIndex:e.index});break;case"clear-order":this.setState({order:[],initiationIndex:0});break;case"set-order":this.setState({order:e.order});break;default:console.log(`Initiation Order recieved an undefined message type: ${e.type}`)}}render(){let e=o.h("span",null,"The Game Master hasn't set the combat order yet.");return this.state.order.length&&(e=this.isGM?this.state.order.map((e,t)=>o.h("button",{onClick:this.pingPlayer,"data-uid":e.uid,className:`m-0.5 ${this.state.initiationIndex===t?"is-active":""}`},e.name)):this.state.order.map((e,t)=>o.h("span",{className:`m-0.5 font-${this.state.initiationIndex===t?"primary":"grey"}-700 font-medium`},e.name))),o.h(o.Fragment,null,o.h("button",{onClick:this.openDrawer,className:"open-initiation-button"},o.h("svg",{"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},o.h("path",{fill:"currentColor",d:"M544 224c44.2 0 80-35.8 80-80s-35.8-80-80-80-80 35.8-80 80 35.8 80 80 80zm0-112c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zM96 224c44.2 0 80-35.8 80-80s-35.8-80-80-80-80 35.8-80 80 35.8 80 80 80zm0-112c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm396.4 210.9c-27.5-40.8-80.7-56-127.8-41.7-14.2 4.3-29.1 6.7-44.7 6.7s-30.5-2.4-44.7-6.7c-47.1-14.3-100.3.8-127.8 41.7-12.4 18.4-19.6 40.5-19.6 64.3V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-44.8c.2-23.8-7-45.9-19.4-64.3zM464 432H176v-44.8c0-36.4 29.2-66.2 65.4-67.2 25.5 10.6 51.9 16 78.6 16 26.7 0 53.1-5.4 78.6-16 36.2 1 65.4 30.7 65.4 67.2V432zm92-176h-24c-17.3 0-33.4 5.3-46.8 14.3 13.4 10.1 25.2 22.2 34.4 36.2 3.9-1.4 8-2.5 12.3-2.5h24c19.8 0 36 16.2 36 36 0 13.2 10.8 24 24 24s24-10.8 24-24c.1-46.3-37.6-84-83.9-84zm-236 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm0-176c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM154.8 270.3c-13.4-9-29.5-14.3-46.8-14.3H84c-46.3 0-84 37.7-84 84 0 13.2 10.8 24 24 24s24-10.8 24-24c0-19.8 16.2-36 36-36h24c4.4 0 8.5 1.1 12.3 2.5 9.3-14 21.1-26.1 34.5-36.2z"}))),o.h("div",{className:`initiation-order ${this.state.open?"is-open":""}`},o.h("div",{className:"entities"},e),o.h("button",{className:"close-button",onClick:this.closeDrawer},o.h("svg",{"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},o.h("path",{fill:"currentColor",d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"})))))}}o.render(o.h(i,null),document.body.querySelector("#initiation-mounting-point"))},function(e,t,n){var o=n(2),r=n(9);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},s=(o(r,i),r.locals?r.locals:{});e.exports=s},function(e,t,n){(t=n(3)(!1)).push([e.i,'.initiation-order{background-color:var(--white);border-radius:0.5rem 0.5rem 0 0;padding:1rem;position:fixed;width:1024px;max-width:90vw;left:50%;bottom:0;transform:translateX(-50%) translateY(100%);box-shadow:var(--shadow-lg);transition:all 150ms var(--ease-in-out);visibility:hidden;opacity:0;z-index:1700;height:96px;display:flex;align-items:center;justify-content:center;pointer-events:all;border-width:1px 1px 0 1px;border-style:solid;border-color:var(--grey-200)}.initiation-order.is-open{visibility:visible;transform:translateX(-50%) translateY(0);opacity:1}.initiation-order .close-button{width:48px;height:48px;display:inline-block;background-color:var(--white);box-shadow:var(--shadow-lg);border-radius:50%;position:absolute;top:-24px;right:-24px;color:var(--grey-700);transition:all 150ms var(--ease-in-out)}.initiation-order .close-button:hover{color:var(--primary-700)}.initiation-order .close-button:active{box-shadow:var(--shadow-sm);transform:scale(0.87)}.initiation-order .close-button svg{width:24px;height:24px;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.initiation-order .entities{display:block;overflow-y:auto;width:100%}.initiation-order .entities button{padding:0 1rem;height:36px;display:inline-flex;align-items:center;margin-right:0 0.5rem;color:var(--grey-700);position:relative;font-size:0.875rem;font-weight:600}.initiation-order .entities button.is-active{color:var(--primary-700)}.initiation-order .entities button:hover{color:var(--primary-700)}.initiation-order .entities button:hover::before{opacity:0.06;transform:translate(-50%, -50%) scale(1);transition:all 150ms var(--ease-bounce)}.initiation-order .entities button:active::before{opacity:0.1;transform:translate(-50%, -50%) scale(1)}.initiation-order .entities button::before{background-color:var(--primary-500);content:"";display:inline-block;width:100%;height:100%;border-radius:0.125rem;opacity:0.06;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%) scale(0);transition:all 75ms var(--ease-in-out)}.open-initiation-button{width:48px;height:48px;display:inline-block;background-color:var(--white);box-shadow:var(--shadow-lg);border-radius:50%;color:var(--grey-700);transition:all 150ms var(--ease-in-out);pointer-events:all;z-index:1600}.open-initiation-button:hover{color:var(--primary-700)}.open-initiation-button:active{box-shadow:var(--shadow-sm);transform:scale(0.87)}.open-initiation-button svg{width:24px;height:24px;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}\n',""]),e.exports=t}]);