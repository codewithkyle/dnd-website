class t extends HTMLElement{constructor(){super(),this.addRow=()=>{this.state.attacks.push({name:"",attackBonus:"",damageType:""}),this.update()},this.handleChange=t=>{const e=t.currentTarget,a=parseInt(e.dataset.index);this.state.attacks[a][e.dataset.key]=e.value},this.state={attacks:[]},this.tBody=this.querySelector("tbody"),this.dataset.attacks&&(this.state.attacks=JSON.parse(this.dataset.attacks))}dumpAttacks(){const t=[];return this.state.attacks.map(e=>{""!==e.name&&""!==e.damageType&&t.push(e)}),JSON.stringify(t)}update(){this.tBody.innerHTML="",this.state.attacks.map((t,e)=>{const a=document.createElement("tr"),n=document.createElement("td"),s=document.createElement("td"),d=document.createElement("td"),i=document.createElement("input"),c=document.createElement("input"),h=document.createElement("input");a.dataset.index=""+e,i.type="text",i.value=t.name,i.dataset.index=""+e,i.dataset.key="name",i.addEventListener("input",this.handleChange),c.type="text",c.value=t.attackBonus,c.dataset.index=""+e,c.dataset.key="attackBonus",c.addEventListener("input",this.handleChange),h.type="text",h.value=t.damageType,h.dataset.index=""+e,h.dataset.key="damageType",h.addEventListener("input",this.handleChange),n.appendChild(i),s.appendChild(c),d.appendChild(h),a.setAttribute("grid","columns 3 gap-1"),a.append(n,s,d),this.tBody.appendChild(a)}),this.state.attacks.length?this.tBody.parentElement.style.display="block":this.tBody.parentElement.style.display="none"}connectedCallback(){this.querySelector("button").addEventListener("click",this.addRow),this.state.attacks.length&&this.querySelectorAll("input").forEach(t=>{t.addEventListener("input",this.handleChange)})}}customElements.define("attack-component",t);