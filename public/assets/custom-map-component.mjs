import{message as e}from"./broadcaster.mjs";class t extends HTMLElement{constructor(){super(),this.handleClick=()=>{this.input.focus(),this.input.click()},this.handleFile=e=>{const t=this.input.files;t.length&&this.reader.readAsDataURL(t[0])},this.handleFileLoad=()=>{e("server",{type:"load-map",url:this.reader.result})},this.reader=null,this.input=this.querySelector("input")}connectedCallback(){this.addEventListener("click",this.handleClick),this.input.addEventListener("change",this.handleFile),this.reader=new FileReader,this.reader.addEventListener("load",this.handleFileLoad)}}customElements.define("custom-map-component",t);