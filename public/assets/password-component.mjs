class t extends HTMLElement{constructor(){super(),this.handleBlurEvent=this.validate.bind(this),this.handleKeyboardEvent=this.clearCustomError.bind(this),this.handleButtonClick=this.toggleType.bind(this),this.input=this.querySelector('input:not([type="hidden"])'),this.button=this.querySelector("button")}validate(){if(""===this.input.value?this.classList.remove("has-value"):this.classList.add("has-value"),!this.classList.contains("is-invalid"))return this.input.validity.valid?"email"===this.input.type&&!1===new RegExp(/\S+@\S+\.\S+/).test(this.input.value)?(this.classList.add("is-invalid"),this.input.setCustomValidity("Invalid email address format."),void this.input.reportValidity()):void this.classList.remove("is-invalid"):(this.classList.add("is-invalid"),void this.input.reportValidity())}clearCustomError(){this.classList.contains("is-invalid")&&(this.input.setCustomValidity(""),this.input.reportValidity(),this.classList.remove("is-invalid"))}toggleType(){"password"===this.input.type?(this.input.type="text",this.setAttribute("state","visible")):(this.input.type="password",this.setAttribute("state","hidden"))}connectedCallback(){this.input.addEventListener("blur",this.handleBlurEvent),this.input.addEventListener("keypress",this.handleKeyboardEvent),this.input.addEventListener("input",this.handleKeyboardEvent),this.button.addEventListener("click",this.handleButtonClick)}}customElements.define("password-component",t);